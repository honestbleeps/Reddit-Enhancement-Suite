// Peity jQuery plugin version 0.6.1
// (c) 2012 Ben Pickles http://benpickles.github.com/peity/
// Released under MIT license.
(function(e,t){function i(e,n){var i=t.createElement("canvas");i.setAttribute("width",e*r);i.setAttribute("height",n*r);if(r!=1){var s="width:"+e+"px;height:"+n+"px";i.setAttribute("style",s)}return i}var n=e.fn.peity=function(r,i){if(t.createElement("canvas").getContext){this.each(function(){e(this).change(function(){var t=e.extend({},n.defaults[r],i);var s=this;e.each(t,function(n,r){if(e.isFunction(r))t[n]=r.call(s)});var o=e(this).html();n.graphers[r].call(this,t);e(this).trigger("chart:changed",o)}).trigger("change")})}return this};n.graphers={};n.defaults={};n.add=function(e,t,r){n.graphers[e]=r;n.defaults[e]=t};var r=window.devicePixelRatio||1;n.add("pie",{colours:["#9494FF","#FF8B24"],delimeter:"/",diameter:10},function(t){var n=e(this);var r=n.text().split(t.delimeter);var s=parseFloat(r[0]);var o=parseFloat(r[1]);var u=s/(s+o)*Math.PI*2;var a=i(t.diameter,t.diameter);var f=a.getContext("2d");var l=a.width/2;f.translate(l,l);f.rotate(-Math.PI/2);f.beginPath();f.arc(0,0,l/1.6,0,u==0?Math.PI*2:u,true);f.lineWidth="2";f.strokeStyle=t.colours[0];f.stroke();f.beginPath();f.arc(0,0,l/1.6,0,u,false);f.lineWidth="2";f.strokeStyle=t.colours[1];f.stroke();n.wrapInner(e("<span>").hide()).append(a)})})(jQuery,document)