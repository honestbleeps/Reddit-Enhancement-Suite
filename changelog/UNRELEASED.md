This release consists of changes from the 5.1.x beta releases.

### New Features and Enhancements

- Partial translations for: Canadian English (en_CA), British English (en_GB), Japanese (ja), Italian (it), Dutch (nl_NL), Polish (pl), German (de), Chinese (zh), Spanish (es), Portuguese (pt), Russian (ru), Turkish (tr) (big thanks to all of our translators: Yifanz, creesch, Soephaai, jutrasb, TheRealGeorgeKaplan, mschmitt612, prasselpikachu, 12345ieee, Veesi, asteroid01, avlas, elepas, enrycami, gvlfm78, theitalianpotato, GiveMe9ASAP, Lazarus_DS, Tabisama, gongmong30, guyze, kurehajime,  leaw_bha, newsokur_kara_kimashita_, philomelos, tombadil, wojtekmaj, chiphead, agramainio, EmilianoZeta, J_Van, SwiftWrath, csolisr, joelrambert_gtc_Y2RlMz, pablogrb, rs2pro, soeri, Dorkara, TuanPham)
- Lay groundwork for localizing module and option descriptions (big thanks @BenMcGarry)
- New FilteReddit filterline for complex filters on demand (thanks @larsjohnsen)
- Media Hosts:
	- osu.ppy.sh/ss/ (thanks @Dexesttp)
	- dropbox.com direct links only (thanks @larsjohnsen)
	- archive.is preview screenshots (thanks @thybag)
	- tenor.co (thanks @SeanHayes)
    - getyarn.io (thanks @thybag)
    - supload.com (thanks @rizzles)
    - loophouse.tv (thanks @mubashariqbal)
    - Giphy improvements: load HTML5 videos instead of gifs (thanks @dhensche)
    - Graphiq improvements: support new URL style (thanks @thybag)
    - Derpibooru improvements: support direct links, display image sources (thanks @erikdesjardins)
- Display "saved" shortcut in subreddit manager (thanks @spezzino)
- New option markSelftextVisited to mark text posts as visited on expand (thanks @larsjohnsen)
- Display gold status in userbar (thanks @bruno207)
- New {{linkflair}} macro placeholder (thanks @amews)
- New option swapBigEditorLayout to swap position of editor and preview pane in big editor (thanks @dhensche)
- Display more friendly names for settings rather than camelCase (thanks @dhensche)
- FilteReddit now does not filter your own posts by default (thanks @ssonal)
- Add user highlighting for reddit alumni (thanks @chewong)
- More detailed options for controlling auto-expansion of expandos: autoExpandTypes and nearby options (thanks @larsjohnsen)
- Improve responsiveness of Keyboard Navigation (thanks @larsjohnsen)
- Show "return to originating expando" button after auto-scrolling to previously opened expando (thanks @larsjohnsen)
- Add gears linking to settings on /r/Dashboard tabs (thanks @dhensche)
- Do not display notifications for /r/RESAnnouncements posts if they are browser-specific and do not apply to the current browser (thanks @michaelskiles)
- Add hideLinkFadeDelay option to configure delay before hiding posts (thanks @tyler-m-dunn)
- Add showTaggingIcon option to allow hiding the tag icon (when disabled, users can still be tagged by clicking the vote weight or an existing tag) (thanks @larsjohnsen)
- Add browsePreloadCount option to preload expandos of subsequent posts for faster browsing (thanks @larsjohnsen)
- HTML5 video expandos are paused when offscreen and unloaded when far offscreen (thanks @larsjohnsen)
- Add a badge displaying the number of multireddits a subreddit is in next to the subscribe button (thanks @dhensche)
- Add custom filter condition for the current date (thanks @andytuba)
- Allow iframe expandos (notably YouTube videos) to be resized (thanks @thybag)
- Add Profile Navigator module to quickly navigate to part of your profile by hovering on the userbar (thanks @andytuba)
- Replace subreddit header icon when disabling subreddit style (thanks @Lakston, @erikdesjardins)
- Improve performance of loading new pages with Never Ending Reddit (thanks @larsjohnsen)
- Easier drag-and-drop to remove subreddit shortcuts (thanks @githue)
- Duplicate posts are completely removed instead of hidden from view (thanks @TheRook)
- Automatic nightmode checks every five minutes, even if you don't load a new page (thanks @erikdesjardins)
- New showIgnored option to prevent revealing ignored posts and comments (thanks @githue)
- Update expando icons for new color scheme
- New filteReddit option useRedditFilters to sync subreddit filters to reddit's native /r/all filters (thanks @erikdesjardins)

### Bug Fixes

- Fix last visited column still being displayed when the storeSubredditVisit option was disabled (thanks @Jtfinlay)
- Fix expandos not loading on wiki pages (thanks @larsjohnsen)
- Fix gallery navigation arrows having the wrong cursor on Edge (thanks @wojtekmaj)
- Fix RES-saving comments (thanks @larsjohnsen)
- Fix gallery navigation not working properly when multiple galleries are on screen (thanks @larsjohnsen)
- Fix Comment Tools not working on live threads (thanks @tao-lu)
- Fix navigating to posts after completing the Konami code (thanks @jvtrigueros)
- Fix score left time appearing negative when the score has been revealed (thanks @nyuszika7h)
- Fix Quick Message dialog appearing when clicking "message the moderators" even when a modifier key is held (thanks @sionide21)
- Switch to XKCD's own API so that title text is properly parsed (thanks @Overv)
- Fix nightmode styling of reddit's experimental source URLs (thanks @andytuba)
- Fix page navigator on ads pages (thanks @andytuba)
- Fix settings links opening in a new tab when commentsLinksNewTabs is enabled (thanks @ssonal)
- Fix issue where the wrong post would be selected by Never Ending Reddit behind-the-scenes (thanks @larsjohnsen)
- Fix Multireddit Navigation links having an extra slash (thanks @erikdesjardins)
- Fix Account Switcher dropdown not scrolling when going off screen (thanks @jontonsoup4)
- Fix YouTube expandos in Edge and Safari (thanks @erikdesjardins)
- Fix post flair being used for user flair in some places internally (thanks @larsjohnsen)
- Fix view source button only working once on a page (thanks @erikdesjardins)
- Fix HTML5 "gifs" overlapping content when switching to the fallback image (thanks @larsjohnsen)
- Fix comment tools on the ban page (thanks @dhensche)
- Fix Never Ending Reddit pause notification showing on every pageload instead of when clicking the pause button (thanks @erikdesjardins)
- Fix some Imgur albums not loading if they were removed the the Imgur gallery (thanks @erikdesjardins)
- Fix media galleries in filmstrip mode (thanks @larsjohnsen)
- Restore pink background for removed comments in nightmode with commentBoxes (thanks @githue)
- Fix various issues with numerical subreddit names (thanks @erikdesjardins)
- Work around an issue in Firefox nightly where `performance` may be null (thanks @erikdesjardins, @larsjohnsen)
- Fix RES gear icon and Account Switcher icon having too much specificity, breaking some subreddits (thanks @erikdesjardins)
- Fix vertical alignment of text on subreddit style toggle checkbox (thanks @larsjohnsen)
- Prevent RES from running on modmail beta and breaking styles (thanks @andytuba)
- Fix commentNavigator selecting the wrong post when at a non-default zoom level (thanks @larsjohnsen)
- Fix timezone of Submit Helper already submitted warning (thanks @corylulu)
- Fix captions not appearing for video expandos (thanks @erikdesjardins)
- Fix /r/all filtered subreddit remove button nightmode style (thanks @erikdesjardins)
- Fix expandos for direct links to Eroshare images (thanks @RandyWild)

### Other

- More precise handling of comments linklistings, e.g. reddit.com/comments (thanks @larsjohnsen)
- Eliminate some causes of forced synchronous layouts (thanks @larsjohnsen)
- Reduce impact on scrolling performance in browsers that support the IntersectionObserver API (thanks @larsjohnsen)
- Many iterations on Filterline (thanks @larsjohnsen)
- Minor fixes, improvements to media hosts and filters (thanks @larsjohnsen)
- Update wording in Troubleshooter module to refer to the native backup module (thanks @BenMcGarry)
- Record module profiling with the performance timing API (thanks @erikdesjardins)
- Cleanup of some code in the Show Images module (thanks @mc10)
- Cleanup styling and implementation of saved-RES tab (thanks @githue)
- Minor improvements to ignoring users (thanks @githue)
- Optimize Filterline filtering (thanks @erikdesjardins)
- Switch Filterline to a less-mathy icon (thanks @andytuba)

### Housekeeping

- Update dependencies (thanks @BenMcGarry, @erikdesjardins)
- Use native browser implementations instead of babel-runtime (thanks @erikdesjardins)
- Marginally improve performance of messaging API wrapper (thanks @erikdesjardins)
- Add additional unit tests (thanks @erikdesjardins)
- Remove the last usage of Gulp from the build process (thanks @erikdesjardins)
- Set up integration tests (thanks @erikdesjardins)
- Minor .gitignore improvements (thanks @BenMcGarry, @mc10)
- Add Flow typing (thanks @erikdesjardins)
- Improve i18n documentation (thanks @BenMcGarry)
- Remove unnecessarily imported Firefox util (thanks @erikdesjardins)
- Ship higher-quality sourcemaps (thanks @erikdesjardins)
- Minor storage usability/safety improvements (thanks @erikdesjardins)
